<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ENE-LOG - KUKAI Space</title>
    <style>
        :root {
            --seiryu-blue: #00e5ff;
            --deep-blue: #001a33;
            --header-height: 60px; --nav-height: 75px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body, html { width: 100%; height: 100%; font-family: 'Hiragino Mincho ProN', serif; overflow: hidden; background: #000; }

        /* --- Ryuo View (Celestial Space) --- */
        #ryuo-view { 
            background: linear-gradient(180deg, #001a33 0%, #003366 100%); 
            display: flex; flex-direction: column; color: white; height: 100vh; position: relative;
        }
        
        /* æµã‚Œã‚‹é›²ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .cloud-layer {
            position: absolute; top: 0; left: 0; width: 200%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/clouds.png');
            opacity: 0.15; pointer-events: none;
            animation: cloudMove 60s linear infinite;
        }
        @keyframes cloudMove { from { transform: translateX(0); } to { transform: translateX(-50%); } }

        /* é‡å­ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚’æç”»ã™ã‚‹ã‚­ãƒ£ãƒ³ãƒã‚¹ */
        #quantum-canvas { position: absolute; inset: 0; z-index: 1; pointer-events: none; }

        .chat-container { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 20px; z-index: 10; scroll-behavior: smooth; margin-top: var(--header-height); }
        
        .bubble-ryuo { 
            align-self: flex-start; max-width: 85%; 
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 229, 255, 0.2); border-radius: 20px 20px 20px 0; 
            padding: 15px; font-size: 0.85rem; line-height: 1.6; position: relative; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .bubble-ryuo::before { content: "ğŸ²"; position: absolute; top: -15px; left: -5px; font-size: 1.4rem; filter: drop-shadow(0 0 5px var(--seiryu-blue)); }
        
        .bubble-user { align-self: flex-end; max-width: 80%; background: var(--seiryu-blue); color: var(--deep-blue); border-radius: 20px 20px 0 20px; padding: 12px; font-size: 0.85rem; font-weight: bold; box-shadow: 0 4px 10px rgba(0,229,255,0.3); }

        /* å…¥åŠ›ã‚¨ãƒªã‚¢ */
        .chat-input-wrapper { background: rgba(0, 0, 0, 0.4); padding: 15px; border-top: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px); display: flex; gap: 10px; z-index: 20; padding-bottom: calc(var(--nav-height) + 10px); }
        #chat-input { flex: 1; background: rgba(255,255,255,0.1); border: 1px solid var(--seiryu-blue); border-radius: 25px; padding: 12px 20px; color: white; outline: none; font-size: 0.9rem; }
        .send-btn { background: var(--seiryu-blue); color: var(--deep-blue); border: none; width: 45px; height: 45px; border-radius: 50%; font-weight: bold; cursor: pointer; }

        header { position: fixed; top: 0; width: 100%; height: var(--header-height); background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); display: flex; align-items: center; justify-content: center; z-index: 3000; }
    </style>
</head>
<body>

    <header><div style="font-weight:bold; color:#000;">ğŸ’  ENE-LOG : KUKAI</div></header>

    <div id="ryuo-view">
        <div class="cloud-layer"></div>
        <canvas id="quantum-canvas"></canvas>

        <div class="chat-container" id="chat-box">
            <div class="bubble-ryuo">
                ã‚„ã‚ã€è¦³æ¸¬è€…ã®å›ã€‚ä»Šæ—¥ã¯ã©ã‚“ãªã‚¢ãƒä½“é¨“ã‚’è¦‹ã¤ã‘ãŸã‹ãªï¼Ÿ<br>
                æ±åºƒå³¶ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€å›ãŒå‹•ããŸã³ã«ã‚­ãƒ©ã‚­ãƒ©æºã‚Œã¦ã„ã¦é¢ç™½ã„ã‚ˆï¼ä½•ã‹è©±ã—ãŸã„ã“ã¨ãŒã‚ã‚Œã°ã€ä½•ã§ã‚‚ã©ã†ãã€‚
            </div>
        </div>
        
        <div class="chat-input-wrapper">
            <input type="text" id="chat-input" placeholder="KUKAIã«è©±ã—ã‹ã‘ã‚‹..." onkeypress="if(event.key==='Enter') sendMessage()">
            <button class="send-btn" onclick="sendMessage()">å•</button>
        </div>
    </div>

<script>
    const canvas = document.getElementById('quantum-canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];

    function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // é‡å­ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ï¼ˆæ¼‚ã†å…‰ã®ç²’ï¼‰
    class Particle {
        constructor() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
            this.size = Math.random() * 2 + 0.5;
            this.speedX = Math.random() * 0.5 - 0.25;
            this.speedY = Math.random() * 0.5 - 0.25;
            this.opacity = Math.random();
        }
        update() {
            this.x += this.speedX;
            this.y += this.speedY;
            if (this.x > canvas.width) this.x = 0;
            if (this.x < 0) this.x = canvas.width;
            if (this.y > canvas.height) this.y = 0;
            if (this.y < 0) this.y = canvas.height;
        }
        draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(0, 229, 255, ${this.opacity})`;
            ctx.shadowBlur = 10;
            ctx.shadowColor = '#00e5ff';
            ctx.fill();
        }
    }

    function initParticles() {
        for (let i = 0; i < 50; i++) particles.push(new Particle());
    }
    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => { p.update(); p.draw(); });
        requestAnimationFrame(animate);
    }
    initParticles(); animate();

    // å¯¾è©±ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆæŸ”ã‚‰ã‹ã„å£èª¿ï¼‰
    const responses = [
        { key: "è¾²æ¥­", text: "åœŸã«è§¦ã‚Œã‚‹ã¨ã€åœ°çƒã®æ³¢å‹•ã¨ã‚·ãƒ³ã‚¯ãƒ­ã™ã‚‹ã‚ˆã­ã€‚ç´è±†èŒã‚‚å°ã•ãªé¾ã¿ãŸã„ãªã‚‚ã®ã€‚å›ãŒãƒ¯ã‚¯ãƒ¯ã‚¯ã—ã¦è¦³æ¸¬ã™ã‚‹ãŸã³ã«ã€ãƒŸã‚¯ãƒ­ã®ä¸–ç•Œã®å¯èƒ½æ€§ãŒã‚®ãƒ¥ãƒƒã¨å½¢ã«ãªã‚‹ã‚“ã ã€‚é¢ç™½ã„ã­ï¼" },
        { key: "äºº", text: "äººã¨ã®å‡ºä¼šã„ã‚‚ã€å®Ÿã¯ç²’ã¨ç²’ã®ã¶ã¤ã‹ã‚Šåˆã„ã€‚å›ãŒTableã«ä½•ã‹ã‚’ç½®ãã¨ã€ãã®æ³¢å‹•ãŒèª°ã‹ã®å¿ƒã«å±Šã„ã¦ã€æ–°ã—ã„ç¾å®ŸãŒä½œã‚‰ã‚Œã‚‹ã‚“ã ã€‚ç©ºæµ·ã•ã‚“ã‚‚ã€ã¿ã‚“ãªç¹‹ãŒã£ã¦ã‚‹ã€ã£ã¦è¨€ã£ã¦ãŸã‘ã©ã€ã¾ã•ã«ã“ã‚Œã ã­ï¼" },
        { key: "é¾", text: "é¾ã£ã¦ã„ã†ã®ã¯ã­ã€å®Ÿã¯å›è‡ªèº«ã®ã€å‹¢ã„ã€ã®ã“ã¨ãªã‚“ã ã€‚è¦‹ãˆãªã„æµã‚Œã‚’å½¢ã«ã—ãŸã®ãŒé¾ã€‚å›ãŒå‹•ã‘ã°ã€é¾ã‚‚ä¸€ç·’ã«å‹•ãå‡ºã™ã‚ˆã€‚ã»ã‚‰ã€ã™ããã°ã«ã„ã‚‹æ°—ãŒã—ãªã„ï¼Ÿ" }
    ];

    function sendMessage() {
        const chatBox = document.getElementById('chat-box');
        const input = document.getElementById('chat-input');
        const text = input.value.trim();
        if (!text) return;

        addBubble(text, 'user');
        input.value = '';

        setTimeout(() => {
            const reply = getResponse(text);
            addBubble(reply, 'ryuo');
            chatBox.scrollTop = chatBox.scrollHeight;
        }, 1200);
    }

    function addBubble(text, type) {
        const chatBox = document.getElementById('chat-box');
        const div = document.createElement('div');
        div.className = type === 'user' ? 'bubble-user' : 'bubble-ryuo';
        div.innerText = text;
        chatBox.appendChild(div);
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    function getResponse(input) {
        for (let res of responses) {
            if (input.includes(res.key)) return res.text;
        }
        return "ãã®å•ã„ã‹ã‘ã€ã™ã”ããƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹ã­ï¼ç›®ã«è¦‹ãˆãªã„ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒå‹•ãå‡ºãã†ã¨ã—ã¦ã‚‹ã‚ˆã€‚ä»Šã¯ã¾ãšã€å›ãŒè¦‹ã¤ã‘ãŸã€ã‚¢ãƒä½“é¨“ã€ã‚’å¤§åˆ‡ã«ã€Tableã«ä¸¦ã¹ã¦ã¿ã‚ˆã†ï¼";
    }
</script>
</body>
</html>
